\JWlone{Introduction}

Energy is a crucial resource especially for mobile devices. Since the energy
available is either limited---on mobile devices---or can become expensive---on
devices connected to the regular power grid---we should use as little as
possible. Even though most modern operating systems try to maximize the CPU
usage by lowering the frequency \cite{snowdon2010operating} to eventually
maximize the energy efficiency, this reaction is not always appropriate. A
lower CPU frequency may even decrease energy efficiency
\cite{weissel2002process,snowdon2010operating}.

The basis to intelligently minimize the energy consumption is per--task energy
accounting because it reveals where exactly the energy is consumed. For every
running process the operating system should be aware of the present contribution
to the machine's total power consumption. Furthermore, the overall energy
consumed by a process should be known after its termination for accounting
purposes.

Thus, for being able to develop good power management strategies, a good live
energy estimation is crucial. The approach in this study thesis is to use the
CPU's \JWemph{performance monitoring counters}. Since the turn of the millennium
\cite{bellosa2000benefits} there have been many papers
\cite{Bertran2010,bertran2010decomposable,kellner03tempcontrol,isci2003runtime,
weissel2002process} doing energy estimation using performance counters with
impressive results.

Besides these points, various other applications of energy estimation are
possible: Temperature control \cite{kellner03tempcontrol} and thermal management
\cite{merkel05tmsmpsys} are just one auxiliary field. Accounted energy may also
serve as a customer cost model for computing centers \cite{Bertran2010}, because
it much more accurately reflects the real costs than simple computing time based
models. Another possible application in this field are migration decisions of
either virtual machines between real machines in clusters or processes between
processing units \cite{merkel10rcscheduling}. Power--aware scheduling can may
help to improve the computing time efficiency.


%-  charges and restrictions  --------------------------------------------------
\JWltwo{Charges and Restrictions}
\label{sec:restrictions}

Because of the limited amount of time and the start from scratch, some
energy--relevant processor and operating system features have been disabled.
Since all of these individually raise some kind of events, this is not seen as a
major drawback of this work.  Future work may certainly be able to flawlessly
integrate them into the known model. In particular, the following features
lasted disabled:

\begin{itemize}

\item Dynamic Frequency and Voltage Scaling \cite{DVFS}

\item Hyper--threading \cite{HT}

\item ACPI Processor States other than C0 \cite{ACPI}

\item Intel\TReg{} Turbo Boost Technology 2.0 \cite{IntelTurboBoost}

\end{itemize}

In addition to the advanced processor and operating system features mentioned
above, all auxiliary processing units were not taken into account. The
problem with the auxiliary processing units, such as the floating point unit
(FPU), MMX\cite{wiki:MMX}, SSE\cite{wiki:SSE} and AVX\cite{AVX}, is that
they are mostly uncovered by the processor performance events
\cite{intel2011events}. They somehow act as a black box not revealing the
work they do internally. Hence it is almost impossible to count their energy
using a performance event model.


%#  ACKNOWLEDGEMENTS  ##########################################################
\JWltwo{Acknowledgments}
\begin{itemize}

\item Prof.\ Dr.\ Frank Bellosa, my advisor

\item Rainer Dosch who designed and soldered the circuits

\item Simon Kellner for the introduction into the subject and valuable hints

\item James McCuller who is responsible for the university workstations I used

\end{itemize}


%#  PRELIMINARIES  #############################################################
\JWltwo{Preliminaries}
\label{sec:preliminaries}

To be able to distinguish ordinary text from special entities, different fonts
and decorations have been typeset. File system paths (e.\,g.\ \JWpath{/bin/ls}),
CPU performance events (e.\,g.\ \JWctrCLK{}) and measuring channels (e.\,g.\ 
\JWchan{TRIGGER}) appear in a \texttt{typewriter} font. Proper nouns of
products, programs and libraries (e.\,g.\ \JWTleaps{}) are typeset using a
\textsf{sans--serif} font. The names of programs and libraries specifically
developed for this work (e.\,g.\ \JWTdd{}) appear in \textsc{small caps}.
Finally, typescripts of terminal sessions are decorated as in the following
example:

\begin{lstlisting}[style=Shell]
$ echo 'Hello World!'
Hello World!
\end{lstlisting}

The \emph{International System of Units (SI)} is used where ever appropriate.
Additionally, the following new definitions are introduced: \si{\samples}
meaning \emph{samples}, \si{\mebi\byte} and \si{\kibi\byte} (\SI{1}{\mebi\byte}
$\hat{=}$ \SI{1024}{\kibi\byte} $\hat{=}$ \SI{1048576}{\byte} $=$ 1048576 byte).


% vim: set spell spelllang=en_us fileencoding=utf8 : syntax spell toplevel :
